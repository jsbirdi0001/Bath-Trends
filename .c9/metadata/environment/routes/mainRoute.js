{"changed":true,"filter":false,"title":"mainRoute.js","tooltip":"/routes/mainRoute.js","value":"const express = require('express');\nconst app = express.Router(),\n      nodemailer = require(\"nodemailer\");\n\napp.get(\"/\", (req, res)=>{\n    res.render(\"index\");\n})\n\napp.post('/contact', function (req, res) {\n  var transporter = nodemailer.createTransport({\n     host: 'smtp.gmail.com',\n     port: 465,\n     secure: true, \n     auth: {\n            user: 'jatinderbirditech@gmail.com',\n            pass: 'Kiranbirdi1@'\n        }\n    });\n    \n    const mailOptions = {\n        from: req.body.email,\n        to: 'jatinderbirditech@gmail.com',\n        subject: 'Contact from GGS AutoCollision',\n        html: `Name: ${req.body.first} (${req.body.last}) <br>\n               Phone: ${req.body.phone} <br>\n               Email: ${req.body.email} <br>\n               Company: ${req.body.company} <br>\n               Model: ${req.body.model} <br>\n               Message: ${req.body.message}\n        `\n    };\n    \n    transporter.sendMail(mailOptions, function (err, info) {\n       if(err){\n           console.log(err);\n           res.send(\"<h1 style='text-align:center'> Error Send Mail </h1> <a href='/'><button>Go Back</button></a>\")\n       }\n       else {\n         console.log(info);\n         res.send(\"Mail has been sent\")\n       }\n    });\n});\n\nmodule.exports = app;","undoManager":{"mark":1,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":43,"column":21},"action":"insert","lines":["const express = require('express');","const app = express.Router(),","      nodemailer = require(\"nodemailer\");","","app.get(\"/\", (req, res)=>{","    res.render(\"index\");","})","app.post('/contact', function (req, res) {","  var transporter = nodemailer.createTransport({","     host: 'smtp.gmail.com',","     port: 465,","     secure: true, ","     auth: {","            user: 'jatinderbirditech@gmail.com',","            pass: 'Kiranbirdi1@'","        }","    });","    ","    const mailOptions = {","        from: req.body.email,","        to: 'jatinderbirditech@gmail.com',","        subject: 'Contact from GGS AutoCollision',","        html: `Name: ${req.body.first} (${req.body.last}) <br>","               Phone: ${req.body.phone} <br>","               Email: ${req.body.email} <br>","               Company: ${req.body.company} <br>","               Model: ${req.body.model} <br>","               Message: ${req.body.message}","        `","    };","    ","    transporter.sendMail(mailOptions, function (err, info) {","       if(err){","           console.log(err);","           res.send(\"<h1 style='text-align:center'> Error Send Mail </h1> <a href='/'><button>Go Back</button></a>\")","       }","       else {","         console.log(info);","         res.send(\"Mail has been sent\")","       }","    });","});","","module.exports = app;"],"id":1}],[{"start":{"row":7,"column":0},"end":{"row":41,"column":3},"action":"remove","lines":["app.post('/contact', function (req, res) {","  var transporter = nodemailer.createTransport({","     host: 'smtp.gmail.com',","     port: 465,","     secure: true, ","     auth: {","            user: 'jatinderbirditech@gmail.com',","            pass: 'Kiranbirdi1@'","        }","    });","    ","    const mailOptions = {","        from: req.body.email,","        to: 'jatinderbirditech@gmail.com',","        subject: 'Contact from GGS AutoCollision',","        html: `Name: ${req.body.first} (${req.body.last}) <br>","               Phone: ${req.body.phone} <br>","               Email: ${req.body.email} <br>","               Company: ${req.body.company} <br>","               Model: ${req.body.model} <br>","               Message: ${req.body.message}","        `","    };","    ","    transporter.sendMail(mailOptions, function (err, info) {","       if(err){","           console.log(err);","           res.send(\"<h1 style='text-align:center'> Error Send Mail </h1> <a href='/'><button>Go Back</button></a>\")","       }","       else {","         console.log(info);","         res.send(\"Mail has been sent\")","       }","    });","});"],"id":2}],[{"start":{"row":7,"column":0},"end":{"row":41,"column":3},"action":"insert","lines":["app.post('/contact', function (req, res) {","  var transporter = nodemailer.createTransport({","     host: 'smtp.gmail.com',","     port: 465,","     secure: true, ","     auth: {","            user: 'jatinderbirditech@gmail.com',","            pass: 'Kiranbirdi1@'","        }","    });","    ","    const mailOptions = {","        from: req.body.email,","        to: 'jatinderbirditech@gmail.com',","        subject: 'Contact from GGS AutoCollision',","        html: `Name: ${req.body.first} (${req.body.last}) <br>","               Phone: ${req.body.phone} <br>","               Email: ${req.body.email} <br>","               Company: ${req.body.company} <br>","               Model: ${req.body.model} <br>","               Message: ${req.body.message}","        `","    };","    ","    transporter.sendMail(mailOptions, function (err, info) {","       if(err){","           console.log(err);","           res.send(\"<h1 style='text-align:center'> Error Send Mail </h1> <a href='/'><button>Go Back</button></a>\")","       }","       else {","         console.log(info);","         res.send(\"Mail has been sent\")","       }","    });","});"],"id":3}],[{"start":{"row":6,"column":2},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":4}]]},"ace":{"folds":[],"scrolltop":338.5,"scrollleft":0,"selection":{"start":{"row":7,"column":0},"end":{"row":7,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1588524488535}